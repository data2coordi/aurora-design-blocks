(()=>{"use strict";const e=window.wp.i18n,o=window.ReactJSXRuntime,{Fragment:s,useState:n,useEffect:t}=wp.element,{registerFormatType:a,insert:c}=wp.richText,{RichTextToolbarButton:l}=wp.blockEditor,{Modal:r,Button:i,TextControl:m,Spinner:p}=wp.components,d=({value:a,onChange:d})=>{const[x,h]=n(!1),[g,w]=n(""),[f,u]=n(null),[j,y]=n(!1);return t((()=>{x&&!f&&(y(!0),fetch("/wp-content/plugins/aurora-design-blocks/blocks/gfontawesome/fontawesome-icons.json").then((e=>e.json())).then((e=>{u(e),y(!1)})).catch((e=>{console.error("アイコン取得エラー:",e),y(!1)})))}),[x,f]),(0,o.jsxs)(s,{children:[(0,o.jsx)(l,{icon:"search",title:"Font Awesome Icon Search",onClick:()=>h(!0)}),x&&(0,o.jsxs)(r,{title:"Font Awesome Icon Search",onRequestClose:()=>h(!1),className:"gfontawesome-modal",children:[(0,o.jsx)(m,{label:"Search",value:g,onChange:e=>w(e),placeholder:"ex): home, user, cog..."}),j?(0,o.jsx)(p,{}):(0,o.jsx)("div",{className:"gfontawesome-categories",children:f?Object.entries(f).map((([s,n])=>{const t=n.filter((e=>e.toLowerCase().includes(g.toLowerCase())));return(0,o.jsxs)("div",{className:"gfontawesome-category",children:[(0,o.jsx)("h3",{style:{marginTop:"20px",textTransform:"capitalize"},children:s.replace(/_/g," ")}),t.length>0?(0,o.jsx)("div",{className:"fa-icons-grid",style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:t.map((e=>(0,o.jsx)(i,{onClick:()=>(e=>{const o=c(a,`[fontawesome icon=${e}]`);d(o),h(!1)})(e),style:{padding:"10px"},children:(0,o.jsx)("i",{className:`fas ${e}`,style:{fontSize:"24px"}})},e)))}):(0,o.jsx)("p",{style:{marginLeft:"10px"},children:(0,e.__)("Icon not found","aurora-design-blocks")})]},s)})):(0,o.jsx)("p",{children:"アイコンデータがありません"})})]})]})};a("fontawesome/icon",{title:"Font Awesome",tagName:"span",className:"gfontawesome-shortcode",edit:e=>(0,o.jsx)(d,{...e})})})();